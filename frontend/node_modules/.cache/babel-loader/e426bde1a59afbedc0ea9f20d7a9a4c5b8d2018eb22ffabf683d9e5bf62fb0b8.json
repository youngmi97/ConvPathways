{"ast":null,"code":"var _jsxFileName = \"/Users/jaehwanjeong/Projects/conv-pathways/frontend/src/components/WorkflowEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useState } from 'react';\nimport ReactFlow, { addEdge, MiniMap, Controls, Background } from 'reactflow';\nimport 'reactflow/dist/style.css';\n\n// Define colors for different node types.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst nodeColors = {\n  prompt: '#ADD8E6',\n  // Light Blue\n  end: '#90EE90',\n  // Light Green\n  api: '#F08080',\n  // Light Coral\n  default: '#ffffff' // White\n};\n\n// Initial nodes: two sample nodes using two different node types.\nconst initialNodes = [{\n  id: '1',\n  type: 'default',\n  position: {\n    x: 250,\n    y: 50\n  },\n  data: {\n    label: 'Prompt: \"Hello, please say your account number.\"',\n    nodeType: 'prompt'\n  },\n  style: {\n    backgroundColor: nodeColors['prompt']\n  }\n}, {\n  id: '2',\n  type: 'default',\n  position: {\n    x: 100,\n    y: 200\n  },\n  data: {\n    label: 'End: \"Thank you, goodbye!\"',\n    nodeType: 'end'\n  },\n  style: {\n    backgroundColor: nodeColors['end']\n  }\n}];\nconst initialEdges = [{\n  id: 'e1-2',\n  source: '1',\n  target: '2',\n  animated: true,\n  label: 'default'\n}];\nfunction WorkflowEditor() {\n  _s();\n  const [nodes, setNodes] = useState(initialNodes);\n  const [edges, setEdges] = useState(initialEdges);\n  const [selectedNodeType, setSelectedNodeType] = useState('prompt');\n  const [nodeLabel, setNodeLabel] = useState('');\n  const [isAdding, setIsAdding] = useState(false);\n  const [rfInstance, setRfInstance] = useState(null);\n\n  // When connecting nodes with an edge.\n  const onConnect = useCallback(params => setEdges(eds => addEdge(params, eds)), []);\n\n  // When the user clicks on the canvas while in \"add node\" mode.\n  const onPaneClick = useCallback(event => {\n    if (isAdding && rfInstance) {\n      // Create a unique id based on the current number of nodes.\n      const newId = (nodes.length + 1).toString();\n      // Create the new node using the selected node type and label.\n      const newNode = {\n        id: newId,\n        type: 'default',\n        data: {\n          label: nodeLabel || `${selectedNodeType} node`,\n          nodeType: selectedNodeType\n        },\n        position: rfInstance.project({\n          x: event.clientX,\n          y: event.clientY\n        }),\n        style: {\n          backgroundColor: nodeColors[selectedNodeType]\n        }\n      };\n      // Add the new node to the nodes array.\n      setNodes(nds => nds.concat(newNode));\n      // Exit \"add mode\" after placing the node.\n      setIsAdding(false);\n    }\n  }, [isAdding, rfInstance, nodes.length, nodeLabel, selectedNodeType]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Node Type:\\xA0\", /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedNodeType,\n          onChange: e => setSelectedNodeType(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"prompt\",\n            children: \"Prompt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"end\",\n            children: \"End\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"api\",\n            children: \"API\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"default\",\n            children: \"Default\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Label:\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: nodeLabel,\n          onChange: e => setNodeLabel(e.target.value),\n          placeholder: \"Node Label\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsAdding(true),\n        children: \"Add Node\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), isAdding && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          marginLeft: '10px'\n        },\n        children: \"Click on canvas to place node\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '500px'\n      },\n      children: /*#__PURE__*/_jsxDEV(ReactFlow, {\n        nodes: nodes,\n        edges: edges,\n        onConnect: onConnect,\n        onPaneClick: onPaneClick,\n        onInit: setRfInstance,\n        fitView: true,\n        children: [/*#__PURE__*/_jsxDEV(MiniMap, {\n          nodeStrokeWidth: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Background, {\n          color: \"#aaa\",\n          gap: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n_s(WorkflowEditor, \"QqMp6spIUNqUZTYQk3fn7Tx2+ao=\");\n_c = WorkflowEditor;\nexport default WorkflowEditor;\nvar _c;\n$RefreshReg$(_c, \"WorkflowEditor\");","map":{"version":3,"names":["React","useCallback","useState","ReactFlow","addEdge","MiniMap","Controls","Background","jsxDEV","_jsxDEV","nodeColors","prompt","end","api","default","initialNodes","id","type","position","x","y","data","label","nodeType","style","backgroundColor","initialEdges","source","target","animated","WorkflowEditor","_s","nodes","setNodes","edges","setEdges","selectedNodeType","setSelectedNodeType","nodeLabel","setNodeLabel","isAdding","setIsAdding","rfInstance","setRfInstance","onConnect","params","eds","onPaneClick","event","newId","length","toString","newNode","project","clientX","clientY","nds","concat","children","marginBottom","value","onChange","e","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onClick","marginLeft","height","onInit","fitView","nodeStrokeWidth","color","gap","_c","$RefreshReg$"],"sources":["/Users/jaehwanjeong/Projects/conv-pathways/frontend/src/components/WorkflowEditor.js"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport ReactFlow, { addEdge, MiniMap, Controls, Background } from 'reactflow';\nimport 'reactflow/dist/style.css';\n\n// Define colors for different node types.\nconst nodeColors = {\n  prompt: '#ADD8E6', // Light Blue\n  end: '#90EE90', // Light Green\n  api: '#F08080', // Light Coral\n  default: '#ffffff', // White\n};\n\n// Initial nodes: two sample nodes using two different node types.\nconst initialNodes = [\n  {\n    id: '1',\n    type: 'default',\n    position: { x: 250, y: 50 },\n    data: {\n      label: 'Prompt: \"Hello, please say your account number.\"',\n      nodeType: 'prompt',\n    },\n    style: { backgroundColor: nodeColors['prompt'] },\n  },\n  {\n    id: '2',\n    type: 'default',\n    position: { x: 100, y: 200 },\n    data: { label: 'End: \"Thank you, goodbye!\"', nodeType: 'end' },\n    style: { backgroundColor: nodeColors['end'] },\n  },\n];\n\nconst initialEdges = [\n  {\n    id: 'e1-2',\n    source: '1',\n    target: '2',\n    animated: true,\n    label: 'default',\n  },\n];\n\nfunction WorkflowEditor() {\n  const [nodes, setNodes] = useState(initialNodes);\n  const [edges, setEdges] = useState(initialEdges);\n  const [selectedNodeType, setSelectedNodeType] = useState('prompt');\n  const [nodeLabel, setNodeLabel] = useState('');\n  const [isAdding, setIsAdding] = useState(false);\n  const [rfInstance, setRfInstance] = useState(null);\n\n  // When connecting nodes with an edge.\n  const onConnect = useCallback(\n    (params) => setEdges((eds) => addEdge(params, eds)),\n    []\n  );\n\n  // When the user clicks on the canvas while in \"add node\" mode.\n  const onPaneClick = useCallback(\n    (event) => {\n      if (isAdding && rfInstance) {\n        // Create a unique id based on the current number of nodes.\n        const newId = (nodes.length + 1).toString();\n        // Create the new node using the selected node type and label.\n        const newNode = {\n          id: newId,\n          type: 'default',\n          data: {\n            label: nodeLabel || `${selectedNodeType} node`,\n            nodeType: selectedNodeType,\n          },\n          position: rfInstance.project({ x: event.clientX, y: event.clientY }),\n          style: { backgroundColor: nodeColors[selectedNodeType] },\n        };\n        // Add the new node to the nodes array.\n        setNodes((nds) => nds.concat(newNode));\n        // Exit \"add mode\" after placing the node.\n        setIsAdding(false);\n      }\n    },\n    [isAdding, rfInstance, nodes.length, nodeLabel, selectedNodeType]\n  );\n\n  return (\n    <div>\n      {/* Controls to select the node type, set the label, and enable add mode */}\n      <div style={{ marginBottom: '10px' }}>\n        <label>\n          Node Type:&nbsp;\n          <select\n            value={selectedNodeType}\n            onChange={(e) => setSelectedNodeType(e.target.value)}\n          >\n            <option value=\"prompt\">Prompt</option>\n            <option value=\"end\">End</option>\n            <option value=\"api\">API</option>\n            <option value=\"default\">Default</option>\n          </select>\n        </label>\n        &nbsp;&nbsp;\n        <label>\n          Label:&nbsp;\n          <input\n            type=\"text\"\n            value={nodeLabel}\n            onChange={(e) => setNodeLabel(e.target.value)}\n            placeholder=\"Node Label\"\n          />\n        </label>\n        &nbsp;&nbsp;\n        <button onClick={() => setIsAdding(true)}>Add Node</button>\n        {isAdding && (\n          <span style={{ marginLeft: '10px' }}>\n            Click on canvas to place node\n          </span>\n        )}\n      </div>\n\n      {/* ReactFlow component */}\n      <div style={{ height: '500px' }}>\n        <ReactFlow\n          nodes={nodes}\n          edges={edges}\n          onConnect={onConnect}\n          onPaneClick={onPaneClick}\n          onInit={setRfInstance}\n          fitView\n        >\n          <MiniMap nodeStrokeWidth={3} />\n          <Controls />\n          <Background color=\"#aaa\" gap={16} />\n        </ReactFlow>\n      </div>\n    </div>\n  );\n}\n\nexport default WorkflowEditor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}